set(CMAKE_EXPORT_COMPILE_COMMANDS 1)
cmake_minimum_required(VERSION 3.1)
project(sliprock)
enable_language(C)
set(THREADS_PREFER_PTHREAD_FLAG 1)
find_package(Threads)
set(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake/Modules")
if (NOT CMAKE_SYSTEM_NAME STREQUAL "Windows")
   find_package(Sodium REQUIRED)
endif()
find_package(GTest)
if(GTEST_FOUND) 
   set(CMAKE_CXX_STANDARD 11)
   enable_language(CXX)
   enable_testing()
   add_subdirectory(test)
endif()
add_definitions(-Wall -Wextra)
add_subdirectory(src)
